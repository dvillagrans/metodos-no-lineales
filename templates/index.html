{% extends "base.html" %}

{% block title %}Inicio - Métodos de Optimización No Lineal{% endblock %}

{% block content %}

<!-- Métodos Principales -->
<div class="container">
    <div class="row mb-5">
        <div class="col-12">
            <h2 class="text-center mb-4">
                <i class="fas fa-route me-2"></i>
                Recorrido de Métodos de Optimización
            </h2>
            <p class="text-center text-muted mb-5">
                Sigue el timeline de métodos desde los más básicos hasta los más avanzados
            </p>
        </div>
    </div>

    <div class="timeline-container">
        <div class="timeline-line"></div>
        <!-- Búsqueda de Línea -->
        <div class="timeline-item">
            <div class="timeline-icon">
                <i class="fas fa-search fa-lg"></i>
            </div>
            <div class="timeline-content">
                <div class="row">
                    <div class="col-lg-8">
                        <h4 class="fw-bold text-success mb-2">1. Búsqueda de Línea</h4>
                        <p class="text-muted mb-3">
                            Métodos fundamentales para encontrar el paso óptimo en una dirección dada. 
                            Utilizan técnicas como sección áurea y Fibonacci para minimizar funciones unidimensionales.
                        </p>
                        <div class="mb-3">
                            <span class="badge bg-success me-1">Sección Áurea</span>
                            <span class="badge bg-success me-1">Fibonacci</span>
                            <span class="badge bg-success">Armijo</span>
                        </div>
                        <div class="mathematical-formula bg-light p-3 rounded mb-3">
                            <strong>Problema:</strong> $\min_{\alpha > 0} f(x_k + \alpha d_k)$<br>
                            <small class="text-muted">Donde $d_k$ es la dirección de búsqueda</small>
                        </div>
                    </div>
                    <div class="col-lg-4 text-end">
                        <div class="mb-3">
                            <div class="bg-gradient-secondary text-white p-3 rounded text-center">
                                <i class="fas fa-chart-line fa-2x mb-2"></i>
                                <p class="small mb-0">Convergencia Lineal</p>
                            </div>
                        </div>
                        <a href="{{ url_for('line_search') }}" class="btn btn-outline-primary">
                            <i class="fas fa-arrow-right me-1"></i>
                            Explorar Método
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Descenso de Gradiente -->
        <div class="timeline-item">
            <div class="timeline-icon">
                <i class="fas fa-arrow-down fa-lg"></i>
            </div>
            <div class="timeline-content">
                <div class="row">
                    <div class="col-lg-8">
                        <h4 class="fw-bold text-success mb-2">2. Descenso de Gradiente</h4>
                        <p class="text-muted mb-3">
                            El método más fundamental de optimización. Utiliza la dirección del gradiente negativo 
                            para encontrar mínimos locales. Base de muchos algoritmos modernos de machine learning.
                        </p>
                        <div class="mb-3">
                            <span class="badge bg-success me-1">Básico</span>
                            <span class="badge bg-success me-1">Momentum</span>
                            <span class="badge bg-success">Adam</span>
                        </div>
                        <div class="mathematical-formula bg-light p-3 rounded mb-3">
                            <strong>Iteración:</strong> $x_{k+1} = x_k - \alpha \nabla f(x_k)$<br>
                            <small class="text-muted">Donde $\alpha$ es la tasa de aprendizaje</small>
                        </div>
                    </div>
                    <div class="col-lg-4 text-end">
                        <div class="mb-3">
                            <div class="bg-gradient-secondary text-white p-3 rounded text-center">
                                <i class="fas fa-mountain fa-2x mb-2"></i>
                                <p class="small mb-0">Descenso por Pendiente</p>
                            </div>
                        </div>
                        <a href="{{ url_for('gradient_descent') }}" class="btn btn-outline-primary">
                            <i class="fas fa-arrow-right me-1"></i>
                            Explorar Método
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Método de Newton -->
        <div class="timeline-item">
            <div class="timeline-icon">
                <i class="fas fa-square-root-alt fa-lg"></i>
            </div>
            <div class="timeline-content">
                <div class="row">
                    <div class="col-lg-8">
                        <h4 class="fw-bold text-success mb-2">3. Método de Newton</h4>
                        <p class="text-muted mb-3">
                            Método de convergencia cuadrática que utiliza información de segundo orden (Hessiana). 
                            Extremadamente rápido cerca del óptimo, pero requiere cálculo de derivadas segundas.
                        </p>
                        <div class="mb-3">
                            <span class="badge bg-success me-1">Clásico</span>
                            <span class="badge bg-success me-1">Modificado</span>
                            <span class="badge bg-success">Amortiguado</span>
                        </div>
                        <div class="mathematical-formula bg-light p-3 rounded mb-3">
                            <strong>Iteración:</strong> $x_{k+1} = x_k - H_f^{-1}(x_k)\nabla f(x_k)$<br>
                            <small class="text-muted">Donde $H_f$ es la matriz Hessiana</small>
                        </div>
                    </div>
                    <div class="col-lg-4 text-end">
                        <div class="mb-3">
                            <div class="bg-gradient-secondary text-white p-3 rounded text-center">
                                <i class="fas fa-rocket fa-2x mb-2"></i>
                                <p class="small mb-0">Convergencia Cuadrática</p>
                            </div>
                        </div>
                        <a href="{{ url_for('newton_method') }}" class="btn btn-outline-primary">
                            <i class="fas fa-arrow-right me-1"></i>
                            Explorar Método
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Métodos Primales -->
        <div class="timeline-item">
            <div class="timeline-icon">
                <i class="fas fa-lock fa-lg"></i>
            </div>
            <div class="timeline-content">
                <div class="row">
                    <div class="col-lg-8">
                        <h4 class="fw-bold text-success mb-2">4. Métodos Primales</h4>
                        <p class="text-muted mb-3">
                            Optimización con restricciones que mantiene la factibilidad en cada iteración. 
                            Utiliza proyecciones sobre el conjunto factible para manejar las restricciones.
                        </p>
                        <div class="mb-3">
                            <span class="badge bg-success me-1">Proyectado</span>
                            <span class="badge bg-success me-1">Reducido</span>
                            <span class="badge bg-success">Factible</span>
                        </div>
                        <div class="mathematical-formula bg-light p-3 rounded mb-3">
                            <strong>Problema:</strong> $\min f(x)$ sujeto a $g(x) = 0$<br>
                            <small class="text-muted">Con proyección sobre el conjunto factible</small>
                        </div>
                    </div>
                    <div class="col-lg-4 text-end">
                        <div class="mb-3">
                            <div class="bg-gradient-secondary text-white p-3 rounded text-center">
                                <i class="fas fa-shield-alt fa-2x mb-2"></i>
                                <p class="small mb-0">Siempre Factible</p>
                            </div>
                        </div>
                        <a href="{{ url_for('constrained') }}" class="btn btn-outline-primary">
                            <i class="fas fa-arrow-right me-1"></i>
                            Explorar Método
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Penalización y Barrera -->
        <div class="timeline-item">
            <div class="timeline-icon">
                <i class="fas fa-shield-alt fa-lg"></i>
            </div>
            <div class="timeline-content">
                <div class="row">
                    <div class="col-lg-8">
                        <h4 class="fw-bold text-success mb-2">5. Penalización y Barrera</h4>
                        <p class="text-muted mb-3">
                            Transforma problemas con restricciones en problemas sin restricciones mediante 
                            funciones de penalización. Permite usar métodos no restringidos en problemas restringidos.
                        </p>
                        <div class="mb-3">
                            <span class="badge bg-success me-1">Exterior</span>
                            <span class="badge bg-success me-1">Logarítmica</span>
                            <span class="badge bg-success">Inversa</span>
                        </div>
                        <div class="mathematical-formula bg-light p-3 rounded mb-3">
                            <strong>Función Aumentada:</strong> $f(x) + \mu \sum p(g_i(x))$<br>
                            <small class="text-muted">Donde $p(\cdot)$ es la función de penalización</small>
                        </div>
                    </div>
                    <div class="col-lg-4 text-end">
                        <div class="mb-3">
                            <div class="bg-gradient-secondary text-white p-3 rounded text-center">
                                <i class="fas fa-balance-scale fa-2x mb-2"></i>
                                <p class="small mb-0">Transformación</p>
                            </div>
                        </div>
                        <a href="{{ url_for('penalty_barrier') }}" class="btn btn-outline-primary">
                            <i class="fas fa-arrow-right me-1"></i>
                            Explorar Método
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Multiplicadores de Lagrange -->
        <div class="timeline-item">
            <div class="timeline-icon">
                <i class="fas fa-infinity fa-lg"></i>
            </div>
            <div class="timeline-content">
                <div class="row">
                    <div class="col-lg-8">
                        <h4 class="fw-bold text-success mb-2">6. Multiplicadores de Lagrange</h4>
                        <p class="text-muted mb-3">
                            El método más elegante para optimización restringida. Utiliza condiciones KKT 
                            y lagrangiano aumentado para encontrar óptimos con restricciones de igualdad y desigualdad.
                        </p>
                        <div class="mb-3">
                            <span class="badge bg-success me-1">KKT</span>
                            <span class="badge bg-success me-1">Aumentado</span>
                            <span class="badge bg-success">SQP</span>
                        </div>
                        <div class="mathematical-formula bg-light p-3 rounded mb-3">
                            <strong>Condición KKT:</strong> $\nabla f + \lambda^T \nabla g = 0$<br>
                            <small class="text-muted">Con $\lambda$ multiplicadores de Lagrange</small>
                        </div>
                    </div>
                    <div class="col-lg-4 text-end">
                        <div class="mb-3">
                            <div class="bg-gradient-secondary text-white p-3 rounded text-center">
                                <i class="fas fa-crown fa-2x mb-2"></i>
                                <p class="small mb-0">Método Óptimo</p>
                            </div>
                        </div>
                        <a href="{{ url_for('lagrange') }}" class="btn btn-outline-primary">
                            <i class="fas fa-arrow-right me-1"></i>
                            Explorar Método
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Características -->
    <div class="row mt-5">
        <div class="col-12">
            <h3 class="text-center mb-4">
                <i class="fas fa-star me-2"></i>
                Características de la Aplicación
            </h3>
        </div>
        <div class="col-lg-3 col-md-6 text-center mb-4">
            <div class="feature-icon bg-light rounded-circle mx-auto mb-3">
                <i class="fas fa-chart-area fa-2x text-primary"></i>
            </div>
            <h6>Visualización en Tiempo Real</h6>
            <p class="text-muted small">Gráficos interactivos que muestran la convergencia y el camino de optimización
            </p>
        </div>
        <div class="col-lg-3 col-md-6 text-center mb-4">
            <div class="feature-icon bg-light rounded-circle mx-auto mb-3">
                <i class="fas fa-sliders-h fa-2x text-success"></i>
            </div>
            <h6>Parámetros Ajustables</h6>
            <p class="text-muted small">Modifica parámetros como tasa de aprendizaje, tolerancia y punto inicial</p>
        </div>
        <div class="col-lg-3 col-md-6 text-center mb-4">
            <div class="feature-icon bg-light rounded-circle mx-auto mb-3">
                <i class="fas fa-code fa-2x text-warning"></i>
            </div>
            <h6>Implementación Completa</h6>
            <p class="text-muted small">Código Python optimizado con documentación detallada</p>
        </div>
        <div class="col-lg-3 col-md-6 text-center mb-4">
            <div class="feature-icon bg-light rounded-circle mx-auto mb-3">
                <i class="fas fa-graduation-cap fa-2x text-info"></i>
            </div>
            <h6>Propósito Educativo</h6>
            <p class="text-muted small">Diseñado para el aprendizaje y comprensión de algoritmos de optimización</p>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    // Animaciones para el timeline y elementos interactivos
    document.addEventListener('DOMContentLoaded', function () {
        // Animación de entrada para timeline items
        const timelineItems = document.querySelectorAll('.timeline-item');
        
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateX(0)';
                }
            });
        }, observerOptions);
        
        timelineItems.forEach((item, index) => {
            item.style.opacity = '0';
            item.style.transform = 'translateX(-50px)';
            item.style.transition = `all 0.6s cubic-bezier(0.4, 0, 0.2, 1) ${index * 0.1}s`;
            observer.observe(item);
        });
        
        // Código limpio sin referencias a elementos eliminados
    });
</script>
{% endblock %}